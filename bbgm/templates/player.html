{% extends "league_layout.html" %}
{% set active_page = "player" %}

{% block title %}{{ info.name }} - League {{ g.league_id }} - Basketball GM{% endblock %}

{% block league_content %}
  <script type="text/javascript">
$(document).ready(function() {
/*    $('#player_tabs a').click(function (e) {
        e.preventDefault();
        $(this).tab('show');
    });*/
    $('#player_tabs').tab();
});
  </script>
  <div class="row-fluid">
    <div class="span6">
      <h1>{{ info.name }}</h1>
      <strong>{{ info.team }}</strong><br />
      Height: {{ (info.height / 12)|int }}'{{ info.height - 12*((info.height / 12)|int) }}"<br />
      Weight: {{ info.weight }}<br />
      Age: {{ info.age }}<br />
      Born: {{ info.born_year }} - {{ info.born_location }}<br />
      Draft: {{ info.draft_year }} - Round {{ info.draft_round }} (Pick {{ info.draft_pick }}) by the {{ info.draft_team }}<br />
      Contract: ${{ info.contract_amount|float|round(1) }}M per year through {{ info.contract_expiration }}<br />
    </div>
    <div class="span6">
      <h2 class="pull-left">Overall Rating: {{ ratings.overall }}</h2>
      <h2 class="pull-right">Potential: {{ ratings.potential }}</h2><br /><br /><br />
      <div class="row-fluid">
        <div class="span4">
          <strong>Physical</strong><br/ >
          Height: {{ ratings.height }}<br />
          Strength: {{ ratings.strength }}<br />
          Speed: {{ ratings.speed }}<br />
          Jumping: {{ ratings.jumping }}<br />
          Endurance: {{ ratings.endurance }}
        </div>
        <div class="span4">
          <strong>Shooting</strong><br/ >
          Inside: {{ ratings.shooting_inside }}<br />
          Layups: {{ ratings.shooting_layups }}<br />
          Free throws: {{ ratings.shooting_free_throws }}<br />
          Two pointers: {{ ratings.shooting_two_pointers }}<br />
          Three pointers: {{ ratings.shooting_three_pointers }}
        </div>
        <div class="span4">
          <strong>Skill</strong><br/ >
          Blocks: {{ ratings.blk }}<br />
          Steals: {{ ratings.stl }}<br />
          Dribbling: {{ ratings.dribbling }}<br />
          Passing: {{ ratings.passing }}<br />
          Rebounding: {{ ratings.rebounding }}
        </div>
      </div>
    </div>
  </div>
  <p></p>

  <ul id="player_tabs" class="nav nav-tabs" data-tabs="tabs">
      <li class="active"><a href="#career_stats" data-toggle="tab">Career Stats</a></li>
      <li><a href="#playoffs_stats" data-toggle="tab">Playoffs Stats</a></li>
      <li><a href="#game_log" data-toggle="tab">Game Log</a></li>
      <li><a href="#ratings_history" data-toggle="tab">Ratings History</a></li>
  </ul>
  <div id="my-tab-content" class="tab-content">
    <div class="tab-pane active" id="career_stats">
      <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed" id="player_stats">
      <thead>
        <tr><th colspan="6"></th><th colspan="3" style="text-align: center" title="Field Goals">FG</th><th colspan="3" style="text-align: center" title="Three-Pointers">3PT</th><th colspan="3" style="text-align: center" title="Free Throws">FT</th><th colspan="3" style="text-align: center" title="Rebounds">Reb</th><th colspan="6"></th></tr>
        <tr><th>Year</th><th>Team</th><th>Age</th><th title="Games Played">GP</th><th title="Games Started">GS</th><th title="Minutes">Min</th><th title="Made">M</th><th title="Attempted">A</th><th title="Percentage">%</th><th title="Made">M</th><th title="Attempted">A</th><th title="Percentage">%</th><th title="Made">M</th><th title="Attempted">A</th><th title="Percentage">%</th><th title="Offensive">Off</th><th title="Defensive">Def</th><th title="Total">Tot</th><th title="Assists">Ast</th><th title="Turnovers">TO</th><th title="Steals">Stl</th><th title="Blocks">Blk</th><th title="Personal Fouls">PF</th><th title="Points">PPG</th></tr>
      </thead>
      <tbody>
      {% for season in seasons %}
        <tr><td><a href="#">{{ season.season }}</a></td><td><a href="{{ url_for('roster', league_id=g.league_id, abbrev=season.abbrev, view_season=season.season) }}">{{ season.abbrev }}</a></td><td>{{ season.age }}</td><td>{{ season.games_played }}</td><td>{{ season.games_started }}</td><td>{{ season.min|float|round(1) }}</td><td>{{ season.fg|float|round(1) }}</td><td>{{ season.fga|float|round(1) }}</td><td>{{ season.field_goal_percentage|float|round(1) }}</td><td>{{ season.tp|float|round(1) }}</td><td>{{ season.tpa|float|round(1) }}</td><td>{{ season.three_point_percentage|float|round(1) }}</td><td>{{ season.ft|float|round(1) }}</td><td>{{ season.fta|float|round(1) }}</td><td>{{ season.free_throw_percentage|float|round(1) }}</td><td>{{ season.orb|float|round(1) }}</td><td>{{ season.drb|float|round(1) }}</td><td>{{ season.rebounds|float|round(1) }}</td><td>{{ season.ast|float|round(1) }}</td><td>{{ season.tov|float|round(1) }}</td><td>{{ season.stl|float|round(1) }}</td><td>{{ season.blk|float|round(1) }}</td><td>{{ season.pf|float|round(1) }}</td><td>{{ season.pts|float|round(1) }}</td></tr>
      {% endfor %}
      </tbody>
      </table>
    </div>
    <div class="tab-pane" id="playoffs_stats">
      Not implemented yet
    </div>
    <div class="tab-pane" id="game_log">
      Not implemented yet
    </div>
    <div class="tab-pane" id="ratings_history">
      <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed" id="player_ratings">
      <thead>
        <tr><th>Year</th><th>Team</th><th>Age</th><th title="Overall">Ovr</th><th title="Potential">Pot</th><th title="Height">Hgt</th><th title="Strength">Str</th><th title="Speed">Spd</th><th title="Jumping">Jmp</th><th title="Endurance">End</th><th title="Inside Scoring">Ins</th><th title="Dunks/Layups">Dnk</th><th title="Free Throw Shooting">FT</th><th title="Two-Point Shooting">2Pt</th><th title="Three-Point Shooting">3Pt</th><th title="Blocks">Blk</th><th title="Steals">Stl</th><th title="Dribbling">Drb</th><th title="Passing">Pss</th><th title="Rebounding">Reb</th></tr>
      </thead>
      <tbody>
        {% for season in seasons %}
          <tr><td><a href="#">{{ season.season }}</a></td><td><a href="{{ url_for('roster', league_id=g.league_id, abbrev=season.abbrev) }}">{{ season.abbrev }}</a></td><td>{{ season.age }}</td><td>{{ season.overall }}</td><td>{{ season.potential }}</td><td>{{ season.height }}</td><td>{{ season.strength }}</td><td>{{ season.speed }}</td><td>{{ season.jumping }}</td><td>{{ season.endurance }}</td><td>{{ season.shooting_inside }}</td><td>{{ season.shooting_layups }}</td><td>{{ season.shooting_free_throws }}</td><td>{{ season.shooting_two_pointers }}</td><td>{{ season.shooting_three_pointers }}</td><td>{{ season.rating_blk }}</td><td>{{ season.rating_stl }}</td><td>{{ season.dribbling }}</td><td>{{ season.passing }}</td><td>{{ season.rebounding }}</td></tr>
        {% endfor %}
      </tbody>
      </table>
    </div>
  </div>

{% endblock %}
