{% extends "league_layout.html" %}
{% set active_page = "negotiation" %}

{% block title %}Resign players with expiring contracts - League {{ g.league_id }} - Basketball GM{% endblock %}

{% block league_content %}
  <script type="text/javascript">
    $(document).ready(function() {
      bbgm_datatable($('#negotiation_list'), 4, [
        {% for player in players %}
			    [ '<a href="#"><a href="{{ url_for('player', league_id=g.league_id, player_id=player.player_id) }}">{{ player.name }}</a></a>', '{{ player.position }}', '{{ player.age }}', '{{ player.overall }}', '{{ player.potential }}', '{% if player.minutes %} {{ player.minutes|float|round(1) }} {% endif %}', '{% if player.points %} {{ player.points|float|round(1) }} {% endif %}', '{% if player.rebounds %} {{ player.rebounds|float|round(1) }} {% endif %}', '{% if player.assists %} {{ player.assists|float|round(1) }} {% endif %}', '${{ player.contract_amount|float|round(3) }}M through {{ player.contract_expiration }}', '<a href="{{ url_for('negotiation', league_id=g.league_id, player_id=player.player_id) }}" class="btn btn-mini btn-primary">Negotiate</a>' ],
        {% endfor %}
		  ]);
    } );
  </script>

  <h1>Players with expiring contracts</h1>

  <p>You are allowed to go over the salary cap to resign your players before they become free agents. If you do not resign them before free agency begins, they will be free to sign with any team, and you won't be able to go over the salary cap to sign them.</p>

  <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed" id="negotiation_list">
  <thead>
    <tr><th>Name</th><th title="Position">Pos</th><th>Age</th><th title="Overall">Ovr</th><th title="Potential">Pot</th><th title="Minutes">Min</th><th title="Points">PPG</th><th title="Rebounds per game">Reb</th><th title="Assists per game">Ast</th><th>Asking for</th><th>Negotiate</th></tr>
  </thead>
  </table>
{% endblock %}
