<form id="roster-dropdown" class="form-inline pull-right"></form>

<h1><span data-bind="text: team.region"></span> <span data-bind="text: team.name"></span> Roster {{new_window}}</h1>
<p>More: <a data-bind="attr: { href: financesUrl }">Finances</a> | <a data-bind="attr: { href: gameLogUrl }">Game Log</a></p>

<p data-bind="visible: currentSeason">
  <span data-bind="text: numRosterSpots"></span> open roster spots<br>
  Payroll: <span data-bind="currencyM: payroll"></span><br>
  Salary cap: <span data-bind="currencyM: salaryCap"></span><br>
  Cash: <span data-bind="currencyM: team.cash"></span> (used for buying out players)
</p>

<!-- ko if: sortable -->
  <p>Drag and drop row handles to move players between the starting lineup (<span class="roster_gs">&#9632;</span>) and the bench (<span class="roster_bench">&#9632;</span>).</p>
  <p><button class="btn" id="roster-auto-sort">Auto sort roster</button></p>
<!-- /ko -->

<p>
<table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed" id="roster">
<thead>
  <tr><th data-bind="visible: sortable"></th><th>Name</th><th title="Position">Pos</th><th>Age</th><th title="Overall Rating">Ovr</th><th title="Potential Rating">Pot</th><th data-bind="visible: currentSeason">Contract</th><th title="Minutes Per Game">Min</th><th title="Points Per Game">Pts</th><th title="Rebounds Per Game">Reb</th><th title="Assists Per Game">Ast</th><th title="Player Efficiency Rating">PER</th><th data-bind="visible: sortable">Release</th><th data-bind="visible: sortable">Buy out</th><th data-bind="visible: showTradeFor">Trade For</th></tr>
</thead>
<tbody>
  {{#players}}
    <tr id="roster_{{pid}}"{{#if separator}} class="separator"{{/if}}><td class="roster_handle" data-bind="visible: sortable"></td><td>{{playerNameLabels pid name injury ratings.skills}}</td><td>{{pos}}</td><td>{{age}}</td><td>{{ratings.ovr}}</td><td>{{ratings.pot}}</td><td data-bind="visible: currentSeason">{{currency contract.amount "M"}} thru {{contract.exp}}</td><td>{{round stats.min 1}}</td><td>{{round stats.pts 1}}</td><td>{{round stats.trb 1}}</td><td>{{round stats.ast 1}}</td><td>{{round stats.per 1}}</td><td data-bind="visible: sortable"><button class="btn btn-mini" data-action="release" data-player-id="{{pid}}" data-player-name="{{name}}" data-contract-expiration="{{contract.exp}}"{{#unless canRelease}} disabled="disabled"{{/unless}}>Release</button></td><td data-bind="visible: sortable"><button class="btn btn-mini" data-action="buyOut" data-player-id="{{pid}}" data-player-name="{{name}}" data-cash-owed="{{round cashOwed 2}}"{{#unless canBuyOut}} disabled="disabled"{{/unless}}>Buy out</button></td><td data-bind="visible: showTradeFor"><form action="/l/{{../lid}}/trade" method="POST" style="margin: 0"><input type="hidden" name="pid" value="{{pid}}"><button type="submit" class="btn btn-mini">Trade For</button></form></td></tr>
  {{/players}}
</tbody>
</table>
</p>
