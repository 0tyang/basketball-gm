<script type="text/javascript">
$(document).ready(function() {
jQuery.fn.dataTableExt.aTypes.unshift(
  function (sData) {
    var bDigitAfterDash, bDigitBeforeDash;
    var sValidChars = "0123456789-";
    var Char;
    var bDash = false;
    
    /* Check the numeric part */
    for ( i=0 ; i<sData.length ; i++ )
    {
      Char = sData.charAt(i);
      if (sValidChars.indexOf(Char) == -1)
      {
        return null;
      }

      // Need a digit after dash
      if (Char !== "-" && !bDash) {
        bDigitBeforeDash = true;
      }
      
      /* Only allowed one dash place... */
      if ( Char == "-" )
      {
        if ( bDash )
        {
          return null;
        }
        bDash = true;
      }

      // Need a digit after dash
      if (Char !== "-" && bDash) {
        bDigitAfterDash = true;
      }
    }
    
    if (bDash) {
      return 'numeric-dash';
    }
  }
);

jQuery.fn.dataTableExt.oSort['numeric-dash-asc']  = function(a, b) {
  var x, y;

  x = a.split("-");
  y = b.split("-");

  if (x.length !== 2 || y.length !== 2) {
    return 0;
  }

  x[0] = parseFloat(x[0]);
  x[1] = parseFloat(x[1]);
  y[0] = parseFloat(y[0]);
  y[1] = parseFloat(y[1]);

  if (x[0] > y[0]) {
    return -1;
  }
  if (x[0] < y[0]) {
    return 1;
  }
  if (x[1] > y[1]) {
    return -1;
  }
  return 1;
};

jQuery.fn.dataTableExt.oSort['numeric-dash-desc'] = function(a, b) {
  var x, y;

  x = a.split("-");
  y = b.split("-");

  if (x.length !== 2 || y.length !== 2) {
    return 0;
  }

  x[0] = parseFloat(x[0]);
  x[1] = parseFloat(x[1]);
  y[0] = parseFloat(y[0]);
  y[1] = parseFloat(y[1]);

  if (x[0] > y[0]) {
    return 1;
  }
  if (x[0] < y[0]) {
    return -1;
  }
  if (x[1] > y[1]) {
    return 1;
  }
  return -1;
};

    ui.dropdown($('#draft_select_season'));

    ui.datatableSinglePage($('#draft_results'), 0, [
        {{#players}}
	          ['{{rnd}}-{{pick}}', '<a href="/l/{{../lid}}/player/{{pid}}">{{name}}</a>', '{{pos}}', '<a href="/l/{{../lid}}/roster/{{draftAbbrev}}">{{draftAbbrev}}</a>', '{{draftAge}}', '{{draftOvr}}', '{{draftPot}}', '<span class="skills_alone">{{skills_block draftSkills}}</span>', '<a href="/l/{{../lid}}/roster/{{currentAbbrev}}">{{currentAbbrev}}</a>', '{{currentAge}}', '{{currentOvr}}', '{{currentPot}}', '<span class="skills_alone">{{skills_block currentSkills}}</span>', '{{round careerStats.gp 0}}', '{{round careerStats.min 1}}', '{{round careerStats.pts 1}}', '{{round careerStats.trb 1}}', '{{round careerStats.ast 1}}', '{{round careerStats.per 1}}'],
        {{/players}}
    ]);
});
</script>

<form action="/l/{{lid}}/draft" method="GET" class="form-inline pull-right">
  <select id="draft_select_season" name="season" class="season">
    {{#seasons}}
      <option value="{{season}}"{{#if selected}} selected="selected"{{/if}}>{{season}} season</option>
    {{/seasons}}
  </select>
</form>

<h1>Draft Summary {{new_window}}</h1>
<p>
  <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed" id="draft_results">
  <thead>
    <tr><th colspan="3"></th><th colspan="5" style="text-align: center">At Draft</th><th colspan="5" style="text-align: center">Current</th><th colspan="5" style="text-align: center">Career Stats</th></tr>
    <tr><th>Pick</th><th>Name</th><th title="Position">Pos</th><th>Team</th><th>Age</th><th title="Overall rating">Ovr</th><th title="Potential rating">Pot</th><th>Skills</th><th>Team</th><th>Age</th><th title="Overall rating">Ovr</th><th title="Potential rating">Pot</th><th>Skills</th><th title="Games Played">GP</th><th title="Minutes Per Game">Min</th><th title="Points Per Game">PPG</th><th title="Rebounds Per Game">Reb</th><th title="Assists Per Game">Ast</th><th title="Player Efficiency Rating">PER</th></tr>
  </thead>
  </table>
</p>
